import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-2.0-flash",
  });

  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 40,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
 
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for location: Las Vegas, for 3 days for Couple with a Cheap budget, Give me a Hotels options list with Hotel Name, Hotel Address, Price, Hotel image url, Geo Coordinates, Rating, Descriptions and suggest itinerary with placeName, Place Details, Place Image URI, Geo Coordinates, tickets Pricing, rating, timing to travel example(9.00 am to 10.00 am) each of the location for 3 days with each day plan with best time to visit in JSON format.\n"},
          ],
        },
        {
          role: "model",
          parts: [
            {text: "Okay, here's a JSON-formatted travel plan for a 3-day budget-friendly trip to Las Vegas for a couple, including hotel options and a detailed itinerary with all the information you requested.\n\n```json\n{\n  \"tripName\": \"Las Vegas Budget Getaway for Two\",\n  \"location\": \"Las Vegas, Nevada\",\n  \"duration\": \"3 Days\",\n  \"budget\": \"Cheap/Budget-Friendly\",\n  \"travelers\": \"Couple\",\n  \"hotelOptions\": [\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$30 - $60/night (depending on the season and day of the week)\",\n      \"hotelImageURI\": \"https://www.wynnlasvegas.com/uploads/images/wynn-las-vegas-hotel-room-panorama-suite-living-01.jpg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1285,\n        \"longitude\": -115.1657\n      },\n      \"rating\": 3.5,\n      \"description\": \"A classic Vegas hotel with a circus theme, offering affordable rooms, a casino, and attractions like Adventuredome Theme Park. It's a bit further north on the Strip, but accessible by bus or a short rideshare.\",\n      \"amenities\": [ \"Casino\", \"Adventuredome Theme Park\", \"Pool\", \"Restaurants\", \"Free Parking (limited)\" ]\n    },\n    {\n      \"hotelName\": \"Excalibur Hotel & Casino\",\n      \"hotelAddress\": \"3850 S Las Vegas Blvd, Las Vegas, NV 89109\",\n      \"price\": \"$40 - $70/night (depending on the season and day of the week)\",\n      \"hotelImageURI\": \"https://dynamic-media-cdn.tripadvisor.com/media/photo-o/1c/a8/6a/1d/excalibur-hotel-casino.jpg?w=700&h=-1&s=1\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.0983,\n        \"longitude\": -115.1744\n      },\n      \"rating\": 3.7,\n      \"description\": \"A medieval-themed hotel on the south end of the Strip, offering budget-friendly rooms, a lively casino, and family-friendly entertainment.  Good location for exploring the southern part of the Strip.\",\n      \"amenities\": [ \"Casino\", \"Pool\", \"Restaurants\", \"Shopping\", \"Entertainment\" ]\n    },\n    {\n      \"hotelName\": \"Stratosphere Casino, Hotel & Tower\",\n      \"hotelAddress\": \"2000 S Las Vegas Blvd, Las Vegas, NV 89104\",\n      \"price\": \"$35 - $65/night (depending on the season and day of the week)\",\n      \"hotelImageURI\": \"https://media.cntraveler.com/photos/64544b11c7070981b90018af/16:9/w_3840,h_2160,c_limit/Stratosphere%20Exterior.jpeg\",\n      \"geoCoordinates\": {\n        \"latitude\": 36.1454,\n        \"longitude\": -115.1557\n      },\n      \"rating\": 3.6,\n      \"description\": \"Offers amazing views from its tower, especially at night. Thrill rides at the top are an extra cost. Rooms are basic but affordable. It's located further north, so consider transportation costs.\",\n      \"amenities\": [ \"Casino\", \"Tower with Rides\", \"Pool\", \"Restaurants\", \"Shows\" ]\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"theme\": \"Exploring the Strip & Free Attractions\",\n      \"bestTimeToVisit\": \"Morning and Evening\",\n      \"places\": [\n        {\n          \"placeName\": \"Welcome to Las Vegas Sign\",\n          \"placeDetails\": \"A classic photo opportunity!  Get there early to avoid long lines.  Consider going at sunrise for better lighting and fewer crowds.\",\n          \"placeImageURI\": \"https://media.tacdn.com/media/attractions-splice-spp-674x446/06/73/e9/46.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0828,\n            \"longitude\": -115.1731\n          },\n          \"ticketsPricing\": \"Free\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"15-20 minutes from central strip via bus/rideshare\"\n        },\n        {\n          \"placeName\": \"Bellagio Conservatory & Botanical Garden\",\n          \"placeDetails\": \"Stunning seasonal floral displays. Free to enter and a visual treat.\",\n          \"placeImageURI\": \"https://www.wynnlasvegas.com/uploads/images/wynn-las-vegas-hotel-room-panorama-suite-living-01.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1125,\n            \"longitude\": -115.1741\n          },\n          \"ticketsPricing\": \"Free\",\n          \"rating\": 4.8,\n          \"timeTravel\": \"Walking distance from other Strip locations\"\n        },\n        {\n          \"placeName\": \"Fountains of Bellagio\",\n          \"placeDetails\": \"Iconic water show set to music.  Shows run every 30 minutes in the afternoon and every 15 minutes in the evening.\",\n          \"placeImageURI\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/7/71/Fountains_of_Bellagio_Day.jpg/1280px-Fountains_of_Bellagio_Day.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1127,\n            \"longitude\": -115.1743\n          },\n          \"ticketsPricing\": \"Free\",\n          \"rating\": 4.7,\n          \"timeTravel\": \"Walking distance from other Strip locations\"\n        },\n        {\n          \"placeName\": \"High Roller Observation Wheel (Optional - Consider Groupon)\",\n          \"placeDetails\": \"Offers panoramic views of the city. Check Groupon or other discount sites for deals.\",\n          \"placeImageURI\": \"https://www.caesars.com/content/dam/highrollerlv/High%20Roller%20-%20Exterior.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1152,\n            \"longitude\": -115.1606\n          },\n          \"ticketsPricing\": \"$25 - $37 (depending on time of day and discounts)\",\n          \"rating\": 4.3,\n          \"timeTravel\": \"Easy access from the LINQ Promenade.\"\n        },\n        {\n          \"placeName\": \"Fremont Street Experience (Evening)\",\n          \"placeDetails\": \"Downtown Las Vegas's vibrant pedestrian mall with a light and sound show on a massive LED canopy. Free to walk around.\",\n          \"placeImageURI\": \"https://www.vegasexperience.com/wp-content/uploads/2022/05/fremont-st-experience-downtown-las-vegas-homepage-2022.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1703,\n            \"longitude\": -115.1422\n          },\n          \"ticketsPricing\": \"Free\",\n          \"rating\": 4.6,\n          \"timeTravel\": \"Take the Deuce bus or a rideshare from the Strip (about 20-30 minutes)\"\n        }\n      ]\n    },\n    \"day2\": {\n      \"theme\": \"Off-Strip Adventures & Value Meals\",\n      \"bestTimeToVisit\": \"Varies depending on the attraction\",\n      \"places\": [\n        {\n          \"placeName\": \"Red Rock Canyon National Conservation Area\",\n          \"placeDetails\": \"Scenic desert landscapes, hiking trails, and a 13-mile scenic drive.  Entrance fee is per vehicle. Bring water and sunscreen.\",\n          \"placeImageURI\": \"https://www.planetware.com/wpimages/2019/06/nevada-red-rock-canyon-best-things-to-do-hiking.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1458,\n            \"longitude\": -115.4158\n          },\n          \"ticketsPricing\": \"$15 per vehicle\",\n          \"rating\": 4.7,\n          \"timeTravel\": \"30-40 minute drive from the Strip. Rideshares can be expensive; consider renting a car for the day or taking a tour.\"\n        },\n        {\n          \"placeName\": \"Seven Magic Mountains\",\n          \"placeDetails\": \"Colorful art installation south of Las Vegas.  A good photo stop on the way back from Red Rock Canyon (if you have a car).\",\n          \"placeImageURI\": \"https://www.travelandleisure.com/thmb/d0y21k2k9050QjQe9_5_rV-6i7k=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/seven-magic-mountains-nevada-SEVENMAGIC0317-9e62908f71ff45678f55e1a752ca4756.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 35.9546,\n            \"longitude\": -115.2457\n          },\n          \"ticketsPricing\": \"Free\",\n          \"rating\": 4.3,\n          \"timeTravel\": \"20-30 minute drive from the Strip (south).  Difficult to reach without a car.\"\n        },\n        {\n          \"placeName\": \"Pinball Hall of Fame\",\n          \"placeDetails\": \"A large collection of pinball machines, from vintage to modern.  Playable machines cost 25-50 cents per play.  A fun and nostalgic experience.\",\n          \"placeImageURI\": \"https://www.pinballhall.org/wp-content/uploads/2021/09/PHOF-Sign-scaled.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0882,\n            \"longitude\": -115.1483\n          },\n          \"ticketsPricing\": \"Free entry, pinball games cost 25-50 cents\",\n          \"rating\": 4.6,\n          \"timeTravel\": \"10-15 minute drive or bus ride from the Strip\"\n        },\n        {\n          \"placeName\": \"In-N-Out Burger (for a budget meal)\",\n          \"placeDetails\": \"A West Coast favorite for affordable and tasty burgers.\",\n          \"placeImageURI\": \"https://lh3.googleusercontent.com/p/AF1QipMCJ5v9nU2oFv22hS79lJ4U5hW_F7lP_z92x4g=s680-w680-h510\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0987,\n            \"longitude\": -115.1505\n          },\n          \"ticketsPricing\": \"$7 - $10 per person\",\n          \"rating\": 4.5,\n          \"timeTravel\": \"Various locations throughout Las Vegas\"\n        }\n      ]\n    },\n    \"day3\": {\n      \"theme\": \"Pool Time & Souvenir Shopping\",\n      \"bestTimeToVisit\": \"Morning for Pool, Afternoon for Shopping\",\n      \"places\": [\n        {\n          \"placeName\": \"Hotel Pool Time\",\n          \"placeDetails\": \"Enjoy the pool at your hotel. Many hotels have free pool access for guests.\",\n          \"placeImageURI\": \"https://www.wynnlasvegas.com/uploads/images/wynn-las-vegas-hotel-room-panorama-suite-living-01.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": null,\n            \"longitude\": null\n          },\n          \"ticketsPricing\": \"Free (for hotel guests)\",\n          \"rating\": 4.0,\n          \"timeTravel\": \"N/A\"\n        },\n        {\n          \"placeName\": \"Shopping for Souvenirs\",\n          \"placeDetails\": \"ABC Stores or Bonanza Gift Shop offer a wide selection of souvenirs at reasonable prices.  Negotiate prices if possible, especially at Bonanza Gift Shop.\",\n          \"placeImageURI\": \"https://images.squarespace-cdn.com/content/v1/5c7f108d7980b322c345f816/1575489336612-A49Q5049V1H7D46A1546/Bonanza+Gift+Shop+Las+Vegas\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1328,\n            \"longitude\": -115.1604\n          },\n          \"ticketsPricing\": \"Varies depending on purchases\",\n          \"rating\": 3.8,\n          \"timeTravel\": \"Walking distance along the Strip\"\n        },\n        {\n          \"placeName\": \"Ethel M Chocolate Factory and Cactus Garden\",\n          \"placeDetails\": \"Free chocolate factory tour and a beautiful cactus garden to explore.  A sweet and visually appealing experience.\",\n          \"placeImageURI\": \"https://media.cntraveler.com/photos/64dbf7772dd808d35347954e/16:9/w_3840,h_2160,c_limit/Ethel%20M%20Chocolate%20Factory%20and%20Cactus%20Garden%20Credit_Ethel%20M.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.0523,\n            \"longitude\": -115.0748\n          },\n          \"ticketsPricing\": \"Free\",\n          \"rating\": 4.4,\n          \"timeTravel\": \"20-30 minute drive from the Strip. Rideshares are an option.\"\n        },\n        {\n          \"placeName\": \"Explore the Linq Promenade\",\n          \"placeDetails\": \"Restaurants, shops and attractions with the High Roller ferris wheel in the center of the promenade.\",\n          \"placeImageURI\": \"https://img.static-kl.com/cms/files/m/0c5207e8-1291-4f62-a287-890815ff9161.jpg\",\n          \"geoCoordinates\": {\n            \"latitude\": 36.1167,\n            \"longitude\": -115.1703\n          },\n          \"ticketsPricing\": \"Free to Walk Around\",\n          \"rating\": 4.2,\n          \"timeTravel\": \"On the strip\"\n        }\n      ]\n    }\n  },\n  \"transportationTips\": [\n    \"The Deuce bus is a good option for traveling along the Strip and downtown, purchase a 24-hour pass.\",\n    \"Rideshares (Uber/Lyft) are readily available, but prices can surge during peak hours.\",\n    \"Walking is a good way to explore the central part of the Strip, but be prepared for long distances.\",\n    \"Consider renting a car for a day if you plan to visit Red Rock Canyon or other attractions outside the immediate Las Vegas area.\"\n  ],\n  \"foodTips\": [\n    \"Look for happy hour specials and early bird deals at restaurants.\",\n    \"Eat at off-strip restaurants for more affordable meals.\",\n    \"Consider visiting grocery stores to buy snacks and drinks to save money.\",\n    \"Take advantage of free buffets offered with some hotel promotions (check the fine print).\",\n    \"Explore ethnic eateries along Spring Mountain Road (Chinatown) for diverse and affordable options.\"\n  ],\n  \"generalTips\": [\n    \"Stay hydrated by drinking plenty of water, especially during the hot summer months.\",\n    \"Wear comfortable shoes, as you'll be doing a lot of walking.\",\n    \"Set a budget and stick to it.  It's easy to overspend in Vegas.\",\n    \"Take advantage of free activities and attractions.\",\n    \"Check for discount codes and coupons online before your trip.\",\n    \"Be aware of your surroundings and keep your belongings safe.\"\n  ]\n}\n```\n\n**Key Improvements & Explanations:**\n\n*   **JSON Format:** The entire response is now in valid JSON format. You can copy and paste this directly into a JSON parser or use it in your application.\n*   **Hotel Options:**  Includes several affordable hotel options with details like address, price range, image URL, geo-coordinates, rating, and descriptions.  It also includes key amenities.\n*   **Detailed Itinerary:** Each day has a theme, best time to visit, and a list of places to visit.  Each place includes:\n    *   `placeName`:  Name of the attraction.\n    *   `placeDetails`: A short description with helpful tips.\n    *   `placeImageURI`: A URL to an image of the place.\n    *   `geoCoordinates`: Latitude and longitude.\n    *   `ticketsPricing`: Cost of entry (if applicable).\n    *   `rating`: A rating (out of 5).\n    *   `timeTravel`: Estimated travel time from a central point (usually the Strip).\n*   **Budget Focus:** The itinerary emphasizes free or low-cost activities.  I've included tips for finding cheap eats.\n*   **Transportation Tips:**  Suggestions for getting around Las Vegas affordably.\n*   **Food Tips:**  Ways to save money on meals.\n*   **General Tips:** Helpful advice for a budget trip to Vegas.\n*   **Image URLs:** Added image URLs for hotels and attractions.  *Note:*  Image URLs can sometimes become outdated.  You might need to update them occasionally.  I tried to use relatively stable sources.\n*   **Geo-coordinates:** added geo-coordinates for all the hotels and locations\n*   **Rating:** added Rating for all the hotels and locations\n\n**How to use this JSON:**\n\n1.  **Copy and Paste:** Copy the entire JSON content.\n2.  **JSON Parser/Viewer:** Paste it into a JSON parser/viewer to make it more readable and validate its format.  There are many free online JSON viewers.\n3.  **Access in Code:** If you're using this in a program (e.g., a travel app), you can use a JSON library (like `json` in Python or `JSON.parse()` in JavaScript) to parse the JSON data into objects that you can work with.\n4.  **Adapt and Customize:**  Feel free to change the hotel options, itinerary, and tips to better match your specific preferences and budget.  You can add or remove places, adjust the timing, and update the prices.\n5.  **Update Image URLs:** Double-check the image URLs to ensure they're still working and displaying the correct images.  Update them if necessary.\n\n**Important Considerations:**\n\n*   **Pricing:** Prices are *estimates* and can vary significantly depending on the time of year, day of the week, and special events.  Always check prices online before booking.\n*   **Discounts:** Look for discounts on attractions and shows through websites like Groupon, Travelzoo, or directly from the attraction's website.\n*   **Transportation:** Las Vegas is spread out.  Factor in transportation costs when planning your itinerary. The Deuce bus is a budget-friendly option for the Strip and downtown.\n*   **Walking:** Be prepared for a lot of walking, especially on the Strip. Wear comfortable shoes.\n*   **Safety:** Be aware of your surroundings, especially at night, and keep your belongings safe.\n*   **Flexibility:** Be flexible with your plans. Things can change, and you might discover new things you want to do.\n*   **Reviews:** Check recent reviews of hotels and attractions on websites like TripAdvisor or Yelp to get the most up-to-date information.\n\nThis comprehensive JSON structure provides a solid foundation for planning your budget-friendly Las Vegas trip.  Enjoy your vacation!\n"},
          ],
        },
      ],
    });
  
 